"use strict";(self.webpackChunkrs_airways=self.webpackChunkrs_airways||[]).push([[276],{8276:(kt,w,a)=>{a.r(w),a.d(w,{BookingModule:()=>Dt});var c=a(130),l=a(2479),g=a(2810),j=a(8130),C=a(8987),G=a(4446),e=a(5230),v=a(132),T=a(4242),z=a(2212),u=a(7898),h=a(8140),Z=a(7135),q=a(3648);let F=(()=>{class n{constructor(t,s){this.translateService=t,this.datePipe=s}transform(t,s="mediumDate"){return this.datePipe.transform(t,s,void 0,this.translateService.currentLang)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.sK,16),e.Y36(c.uU,16))},n.\u0275pipe=e.Yjl({name:"localizedDate",type:n,pure:!1}),n})();function X(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2,"\u2014"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"localizedDate"),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(4),e.Oqu(e.lcZ(5,1,t.dates.landingDate))}}function H(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",4)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"img",5),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",7),e._uU(12,"\u2022"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"localizedDate"),e.qZA(),e.YNc(16,X,6,3,"ng-container",8),e.TgZ(17,"span",7),e._uU(18,"\u2022"),e.qZA(),e.TgZ(19,"div",9)(20,"span"),e._uU(21),e.qZA(),e.TgZ(22,"span"),e._UZ(23,"mat-icon",10),e.qZA()()(),e.BQk()),2&n){const t=i.ngIf,s=e.oxw();e.xp6(3),e.Oqu(t.airport.fromLoc.city),e.xp6(1),e.Q6J("src",t.oneWay?"/assets/one-way_trip.svg":"/assets/return_trip.svg",e.LSH),e.xp6(2),e.Oqu(t.airport.toLoc.city),e.xp6(3),e.Oqu(e.lcZ(10,7,t.oneWay?"MAIN_FORM.ONE_WAY":"BOOKING.RETURN")),e.xp6(5),e.Oqu(e.lcZ(15,9,t.dates.takeoffDate)),e.xp6(2),e.Q6J("ngIf",!t.oneWay),e.xp6(5),e.Oqu(s.passengerAmount)}}function V(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleSearchForm.emit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MISC.BTN_EDIT")," "))}function K(n,i){1&n&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"BOOKING.NO_FLIGHTS"),""))}let P=(()=>{class n{constructor(t){this.searchService=t,this.requestData$=this.searchService.requestData$,this.passengerAmount=0,this.toggleSearchForm=new e.vpe,this.destroy$=new u.x,this.editable=!1,this.searchService.requestData$.pipe((0,h.R)(this.destroy$)).subscribe(s=>{null!=s&&(this.passengerAmount=Object.values(s.passengers).reduce((o,r)=>o+r,0))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-second-menu"]],inputs:{editable:"editable"},outputs:{toggleSearchForm:"toggleSearchForm"},decls:6,vars:5,consts:[[1,"second-menu","py-2","sm:py-0","sm:h-[88px]","bg-[#fafafa]","flex","items-center","flex-wrap","p-2","xl:pl-[156px]","gap-2","sm:gap-4","xl:gap-10","z-10","relative"],[4,"ngIf","ngIfElse"],["class","edit btn","mat-button","",3,"click",4,"ngIf"],["fallback",""],[1,"destination","flex","items-center","gap-4"],["alt","","srcset","",3,"src"],[1,"return","flex","items-center","gap-2"],[1,"dot"],[4,"ngIf"],[1,"passengers","flex","items-center"],["fontIcon","person"],["mat-button","",1,"edit","btn",3,"click"],[1,"text-[#74767a]","text-lg","font-medium"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,H,24,11,"ng-container",1),e.ALo(2,"async"),e.YNc(3,V,3,3,"button",2),e.qZA(),e.YNc(4,K,3,3,"ng-template",null,3,e.W1O)),2&t){const o=e.MAs(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,s.requestData$))("ngIfElse",o),e.xp6(2),e.Q6J("ngIf",s.editable)}},dependencies:[c.O5,Z.lW,q.Hw,c.Ov,g.X$,F],styles:["[_nghost-%COMP%]{z-index:100}.second-menu[_ngcontent-%COMP%]{box-shadow:0 1px 4px #0003}.destination[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.return[_ngcontent-%COMP%]{color:#74767a;font-weight:500;font-size:14px}.return[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{font-size:20px;color:#0090bd}"]}),n})();var W=a(2768),ee=a(7918),te=a(5644),ne=a(464);let se=(()=>{class n{constructor(t){this.searchService=t,this.hideForm=new e.vpe,this.destroy$=new u.x,this.searchForm=this.searchService.searchForm,this.airportForm=this.searchForm.get("airport");const s=this.searchService.requestData$.getValue();null!=s&&this.searchForm.setValue(s)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){this.searchService.update(this.searchForm.value),this.searchForm.reset(),this.hideForm.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights-form"]],outputs:{hideForm:"hideForm"},decls:16,vars:22,consts:[[1,"flights-form","flex","flex-wrap","flex-col","sm:flex-row","py-4","p-2","bg-white","sm:items-center","justify-center","2xl:justify-start","gap-5",3,"formGroup","ngSubmit"],["form","ngForm"],[3,"formGroup"],[3,"formName","direction","placeholder"],[3,"showFormatHint","name"],[3,"name"],[1,"controls","flex","flex-col","gap-5","sm:gap-2"],["color","primary","formControlName","oneWay",1,"checkbox","select-none"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(t,s){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.ynx(2,2),e._UZ(3,"app-airport-field",3),e.ALo(4,"translate"),e._UZ(5,"app-airport-field",3),e.ALo(6,"translate"),e.BQk(),e._UZ(7,"app-dates-field",4)(8,"app-passengers-field",5),e.TgZ(9,"div",6)(10,"mat-checkbox",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",8),e._uU(14),e.ALo(15,"translate"),e.qZA()()()),2&t){const o=e.MAs(1);e.Q6J("formGroup",s.searchForm),e.xp6(2),e.Q6J("formGroup",s.airportForm),e.xp6(1),e.Q6J("formName","fromLoc")("direction",e.lcZ(4,14,"MAIN_FORM.FROM"))("placeholder","Choose your starting location"),e.xp6(2),e.Q6J("formName","toLoc")("direction",e.lcZ(6,16,"MAIN_FORM.TO"))("placeholder","Choose your destination"),e.xp6(2),e.Q6J("showFormatHint",!1)("name","dates"),e.xp6(1),e.Q6J("name","passengers"),e.xp6(3),e.hij(" ",e.lcZ(12,18,"MAIN_FORM.ONE_WAY")," "),e.xp6(2),e.Q6J("disabled",o.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,20,"MISC.BTN_APPLY")," ")}},dependencies:[Z.lW,W.oG,ee.D,te.G,ne.r,l._Y,l.JJ,l.JL,l.sg,l.u,g.X$],styles:["[_nghost-%COMP%]{position:absolute;top:2px;z-index:10;width:100%;box-shadow:0 4px 4px #00000040}"],changeDetection:0}),n})();var ie=a(9276),m=a.n(ie),oe=a(1766),re=a.n(oe);let O=(()=>{class n{constructor(){this.minutesOffset=360}isRelevantFlight(t,s){const o=m().utc(t).diff(m().utc(),"day")>=0,r=s||m().utc(t).diff(m().utc(),"minute")>=this.minutesOffset;return o&&r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=a(1695);let U=(()=>{class n{constructor(t){this.elementRef=t,this.backgroundColor="",this.borderBottom="",this.color=""}ngOnChanges(){this.color=this.determineColor(),this.setStyles()}setStyles(){const{classList:t}=this.elementRef.nativeElement;t.contains("seats")&&(this.backgroundColor=this.color),this.borderBottom=t.contains("date-price")&&this.selected?`4px solid ${this.color}`:""}determineColor(){let t="";if(null!=this.seats){const{total:s,avaible:o}=this.seats;t=o<=10?"#b3261e4d":o<=s/2?"#f1c9334d":"#c9e8c2"}return t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appSeatsColor",""]],hostVars:4,hostBindings:function(t,s){2&t&&e.Udp("background-color",s.backgroundColor)("border-bottom",s.borderBottom)},inputs:{seats:"seats",selected:"selected"},features:[e.TTD]}),n})();const ae=function(n,i,t){return[n,i,void 0,void 0,t]};function le(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",6),e._uU(2),e.ALo(3,"currency"),e.ALo(4,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw();let s;e.xp6(2),e.Oqu(e.G7q(3,1,e.kEZ(9,ae,t.price,null!==(s=e.lcZ(4,7,t.currencyCode$))&&void 0!==s?s:"EUR",t.locale)))}}function ce(n,i){1&n&&e._UZ(0,"img",7)}const pe=function(n,i,t){return{flight:n,selected:i,last:t}};let ge=(()=>{class n{constructor(t,s){this.translateService=t,this.priceService=s,this.selectedChange=new e.vpe,this.price=null,this.locale=this.translateService.currentLang,this.destroy$=new u.x,this.currencyCode$=this.priceService.currencyCode$,this.priceService.currencyCode$.pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.setPrice(o)}),this.translateService.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.locale=o.lang})}ngOnChanges(t){t.selectedFlightNumber&&(this.selected=this.flight?.flightNumber===this.selectedFlightNumber),t.flight&&this.setPrice()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}select(){null!=this.flight&&this.selectedChange.emit(this.flight.flightNumber)}setPrice(t){null!=this.flight&&(this.price=this.priceService.getFlightPrice(this.flight,t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.sK),e.Y36(A.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights-calendar-date"]],inputs:{date:"date",flight:"flight",selectedFlightNumber:"selectedFlightNumber",last:"last"},outputs:{selectedChange:"selectedChange"},features:[e.TTD],decls:11,vars:17,consts:[["appSeatsColor","",1,"date-price","flex","flex-col","items-center","py-1",3,"seats","selected","ngClass","click"],[1,"date-container","flex","flex-col","items-center"],[1,"date"],[1,"weekday"],[4,"ngIf","ngIfElse"],["noFlight",""],[1,"price","h-full","flex","items-center"],["src","/assets/no_flight.svg","alt","","srcset",""]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return s.select()}),e.TgZ(1,"div",1)(2,"span",2),e._uU(3),e.ALo(4,"localizedDate"),e.qZA(),e.TgZ(5,"span",3),e._uU(6),e.ALo(7,"localizedDate"),e.qZA()(),e.YNc(8,le,5,13,"ng-container",4),e.qZA(),e.YNc(9,ce,1,0,"ng-template",null,5,e.W1O)),2&t){const o=e.MAs(10);e.Q6J("seats",null==s.flight?null:s.flight.seats)("selected",s.selected)("ngClass",e.kEZ(13,pe,s.flight,s.selected,s.last)),e.xp6(3),e.Oqu(e.xi3(4,7,s.date,"dd LLL")),e.xp6(3),e.Oqu(e.xi3(7,10,s.date,"cccc")),e.xp6(2),e.Q6J("ngIf",s.flight)("ngIfElse",o)}},dependencies:[c.mk,c.O5,U,c.Ov,c.H9,F],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-end;height:87px;width:100%;overflow:hidden}.date-price[_ngcontent-%COMP%]{height:70px;max-width:225px;width:100%;background-color:#fff;border-left:1px solid #cecece}.date-price.last[_ngcontent-%COMP%]{border-right:1px solid #cecece}.date-price.selected[_ngcontent-%COMP%]{height:100%}.date-price[_ngcontent-%COMP%]:not(.flight)   *[_ngcontent-%COMP%]:not(.weekday){color:#d0d9df}.date-price.flight[_ngcontent-%COMP%]{cursor:pointer}.date[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-weight:700}.date[_ngcontent-%COMP%]{color:#0090bd;font-size:14px}.weekday[_ngcontent-%COMP%]{color:#74767a;font-size:12px}.price[_ngcontent-%COMP%]{color:#11397e}.selected[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#11397e;font-size:20px}.selected[_ngcontent-%COMP%]   .weekday[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.selected[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:30px}"]}),n})(),me=(()=>{class n{constructor(t){this.bookingService=t}transform(t,s,o){return t.find(p=>this.bookingService.isRelevantFlight(p.takeoffDate,o)&&m().utc(p.takeoffDate).isSame(m().utc(s),"day"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O,16))},n.\u0275pipe=e.Yjl({name:"findFlight",type:n,pure:!0}),n})();function de(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-flights-calendar-date",5),e.NdJ("selectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectDate(o))}),e.ALo(1,"findFlight"),e.qZA()}if(2&n){const t=i.$implicit,s=i.last,o=e.oxw();e.Q6J("flight",e.Dn7(1,4,o.flights,t,o.isFirstFlight))("date",t)("selectedFlightNumber",o.selectedFlightNumber)("last",s)}}let he=(()=>{class n{constructor(){this.selectedFlightChange=new e.vpe,this.dates=[],this.isFirstFlight=!1}ngOnInit(){null!=this.selectedFlight&&(this.dates=n.generateStartingDates(this.selectedFlight.takeoffDate))}decrementDate(){const t=m()(this.dates[0]).subtract(1,"day").toDate();this.dates=[t,...this.dates.slice(0,-1)]}incrementDate(){const t=m()(this.dates[this.dates.length-1]).add(1,"day").toDate();this.dates=[...this.dates.slice(1),t]}selectDate(t){const s=this.flights.find(o=>o.flightNumber===t);s&&(this.selectedFlightChange.emit(s),this.selectedFlightNumber=s.flightNumber)}static generateStartingDates(t){return Array.from({length:5},(s,o)=>m()(t).subtract(2,"day").add(o,"day").toDate())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights-calendar"]],inputs:{selectedFlight:"selectedFlight",selectedFlightNumber:"selectedFlightNumber",flights:"flights",isFirstFlight:"isFirstFlight"},outputs:{selectedFlightChange:"selectedFlightChange"},decls:5,vars:1,consts:[[3,"flight","date","selectedFlightNumber","last","selectedChange",4,"ngFor","ngForOf"],[1,"btn","prev","calendar-control","flex","items-center","justify-center",3,"click"],["src","/assets/chevron_left.svg","alt",""],[1,"btn","next","calendar-control","flex","items-center","justify-center",3,"click"],["src","/assets/chevron_right.svg","alt",""],[3,"flight","date","selectedFlightNumber","last","selectedChange"]],template:function(t,s){1&t&&(e.YNc(0,de,2,8,"app-flights-calendar-date",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return s.decrementDate()}),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return s.incrementDate()}),e._UZ(4,"img",4),e.qZA()),2&t&&e.Q6J("ngForOf",s.dates)},dependencies:[c.sg,ge,me],styles:[".btn.calendar-control[_ngcontent-%COMP%]{position:absolute;background-color:#e9edf1;height:24px;width:24px;border-radius:100%;bottom:35px;transform:translateY(50%)}.btn.calendar-control[_ngcontent-%COMP%]:hover{background-color:#d4d7db}.btn.prev[_ngcontent-%COMP%]{left:0}.btn.next[_ngcontent-%COMP%]{right:0}"]}),n})();const D=function(n,i,t){return[n,i,void 0,void 0,t]};function fe(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"span",6),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span",7),e._uU(15),e.ALo(16,"currency"),e.ALo(17,"async"),e.qZA()()(),e.TgZ(18,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClick())}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();let s;e.xp6(3),e.Q6J("seats",t.flight.seats),e.xp6(2),e.AsE("",t.flight.seats.avaible," ",e.lcZ(6,7,"FLIGHTS.SEATS"),"\xa0"),e.xp6(3),e.Oqu(e.lcZ(9,9,"FLIGHTS.AVAILABLE")),e.xp6(4),e.Oqu(e.lcZ(13,11,"FLIGHTS.PRICE")),e.xp6(3),e.hij(" ",e.G7q(16,13,e.kEZ(23,D,t.price,null!==(s=e.lcZ(17,19,t.currencyCode$))&&void 0!==s?s:"EUR",t.locale))," "),e.xp6(4),e.hij(" ",e.lcZ(20,21,"FLIGHTS.SELECT")," ")}}function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",5)(2,"span",9),e._uU(3),e.ALo(4,"currency"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClick())}),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){const t=e.oxw();let s;e.xp6(3),e.Oqu(e.G7q(4,2,e.kEZ(12,D,t.price,null!==(s=e.lcZ(5,8,t.currencyCode$))&&void 0!==s?s:"EUR",t.locale))),e.xp6(4),e.Oqu(e.lcZ(8,10,"MISC.BTN_EDIT"))}}let _e=(()=>{class n{constructor(t,s,o){this.translateService=t,this.priceService=s,this.bookingService=o,this.confirmedChange=new e.vpe,this.price=null,this.locale=this.translateService.currentLang,this.destroy$=new u.x,this.isFirstFlight=!1,this.currencyCode$=this.priceService.currencyCode$,this.priceService.currencyCode$.pipe((0,h.R)(this.destroy$)).subscribe(r=>{this.setPrice(r)}),this.translateService.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(r=>{this.setPrice(),this.locale=r.lang})}ngOnChanges(t){const{flight:s}=t;if(this.isFirstFlight&&null!=this.flight&&(this.bookingService.minutesOffset=this.flight.timeMins),null!=s){this.setPrice();const o=s.previousValue,r=s.currentValue,{firstChange:p}=s;!p&&r.price.usd!==o.price.usd&&this.setPrice()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onClick(){this.confirmed=!this.confirmed,this.confirmed?this.confirmedChange.emit(this.flight):this.confirmedChange.emit()}setPrice(t){null!=this.flight&&(this.price=this.priceService.getFlightPrice(this.flight,t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.sK),e.Y36(A.N),e.Y36(O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flight-select"]],inputs:{flight:"flight",confirmed:"confirmed",isFirstFlight:"isFirstFlight"},outputs:{confirmedChange:"confirmedChange"},features:[e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["edit",""],[1,"select","flex","py-4","md:py-0","md:pl-7","gap-8","relative"],[1,"info","w-[133px]","font-bold"],["appSeatsColor","",1,"seats","flex","flex-col","items-center","md:items-end","rounded-sm","py-1","px-2","text-xs",3,"seats"],[1,"price","mt-[6px]","flex","flex-col","items-center","md:items-end"],[1,"title","text-[#74767a]","text-xs"],[1,"details","text-[#11397e]","text-3xl","text-ellipsis","overflow-hidden","max-w-full"],["mat-stroked-button","",1,"btn","select","self-center",3,"click"],[1,"details","text-3xl","font-bold"],["mat-button","",1,"btn","edit","self-center",3,"click"]],template:function(t,s){if(1&t&&(e.YNc(0,fe,21,27,"ng-container",0),e.YNc(1,ue,9,16,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",!s.confirmed)("ngIfElse",o)}},dependencies:[c.O5,Z.lW,U,c.Ov,c.H9,g.X$],styles:[".select[_ngcontent-%COMP%]   .btn.select[_ngcontent-%COMP%]{background:linear-gradient(108.75deg,#0090bd 59.91%,#073590 95.36%);border:1px solid #11397e;color:#fff}"]}),n})(),xe=(()=>{class n{transform(t,s="en"){if(null==t)return null;const o=Math.floor(t/60),r=t%60;return"pl"===s?`${o}g ${r}m`:"de"===s?`${o}s ${r}m`:"ru"===s?`${o}\u0447 ${r}\u043c`:`${o}h ${r}m`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"flightTime",type:n,pure:!0}),n})();function Ce(n,i){if(1&n&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.ALo(3,"localizedDate"),e.qZA(),e.TgZ(4,"div",15)(5,"span",6),e._uU(6),e.ALo(7,"localizedDate"),e.qZA(),e.TgZ(8,"span",16),e._uU(9),e.qZA()(),e.TgZ(10,"span",17),e._uU(11),e.qZA()()),2&n){const t=i.ngIf,s=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,4,s.flight.takeoffDate,"E, MMMM d y")),e.xp6(4),e.hij(" ",e.xi3(7,7,s.flight.takeoffDate,"h:mm"),""),e.xp6(3),e.hij("UTC ",t.gmt,""),e.xp6(2),e.Oqu(t.city)}}function Ze(n,i){if(1&n&&(e.TgZ(0,"div",18)(1,"span",14),e._uU(2),e.ALo(3,"localizedDate"),e.qZA(),e.TgZ(4,"div",15)(5,"span",16),e._uU(6),e.qZA(),e.TgZ(7,"span",6),e._uU(8),e.ALo(9,"localizedDate"),e.qZA()(),e.TgZ(10,"span",17),e._uU(11),e.qZA()()),2&n){const t=i.ngIf,s=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,4,s.flight.landingDate,"E, MMMM d y")),e.xp6(4),e.hij("UTC ",t.gmt,""),e.xp6(2),e.hij(" ",e.xi3(9,7,s.flight.landingDate,"h:mm"),""),e.xp6(3),e.Oqu(t.city)}}const ye=function(n){return["icon",n]};let ve=(()=>{class n{constructor(t){this.translateService=t,this.locale=this.translateService.currentLang,this.destroy$=new u.x,t.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(s=>{this.locale=s.lang})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flight-details"]],inputs:{flight:"flight",odd:"odd"},decls:21,vars:16,consts:[[1,"details","py-4","md:py-0","lg:h-[76px]","flex","flex-col","lg:flex-row","items-center","justify-between","gap-5","w-full"],[1,"destination-container","flex-grow","self-stretch","flex","justify-between","items-center","h-full","gap-4","sm:gap-[30px]"],["class","destination takeoff",4,"ngIf"],[1,"flight-time-container","flex","flex-grow","items-center","h-full"],[1,"divider","border-t-2","bg-[#d0d9Df]","flex-grow"],[1,"flight-time","flex","flex-col","h-full","items-center","justify-between","w-11"],[1,"time"],["src","/assets/flight-time_icon.svg","alt","",3,"ngClass"],[1,"direct"],["class","destination landing",4,"ngIf"],[1,"flight-number"],[1,"description"],[1,"details"],[1,"destination","takeoff"],[1,"date"],[1,"time-container"],[1,"time-zone"],[1,"city"],[1,"destination","landing"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ce,12,10,"div",2),e.TgZ(3,"div",3),e._UZ(4,"span",4),e.TgZ(5,"div",5)(6,"span",6),e._uU(7),e.ALo(8,"flightTime"),e.qZA(),e._UZ(9,"img",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e._UZ(13,"span",4),e.qZA(),e.YNc(14,Ze,12,10,"div",9),e.qZA(),e.TgZ(15,"div",10)(16,"span",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span",12),e._uU(20),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",s.flight.form),e.xp6(5),e.Oqu(e.xi3(8,7,s.flight.timeMins,s.locale)),e.xp6(2),e.Q6J("ngClass",e.VKq(14,ye,s.odd?"-scale-x-100":"")),e.xp6(2),e.Oqu(e.lcZ(12,10,"FLIGHTS.DIRECT")),e.xp6(3),e.Q6J("ngIf",s.flight.to),e.xp6(3),e.hij(" ",e.lcZ(18,12,"FLIGHTS.NO"),""),e.xp6(3),e.Oqu(s.flight.flightNumber))},dependencies:[c.mk,c.O5,g.X$,F,xe],styles:["[_nghost-%COMP%]{width:100%;margin-right:28px}.destination[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;min-height:76px}.date[_ngcontent-%COMP%], .time-zone[_ngcontent-%COMP%], .city[_ngcontent-%COMP%], .flight-number[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#74767a}.time-zone[_ngcontent-%COMP%]{font-size:8px}.city[_ngcontent-%COMP%]{font-size:12px}.time-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}@media (min-width: 768px){.time-container[_ngcontent-%COMP%]{width:129px}}.time-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:30px;font-weight:700}.flight-time[_ngcontent-%COMP%]{font-size:12px}.landing[_ngcontent-%COMP%]{align-items:flex-end}.landing[_ngcontent-%COMP%]   .time-container[_ngcontent-%COMP%]{justify-content:flex-end}.flight-number[_ngcontent-%COMP%]{font-size:14px;display:flex;gap:12px;width:132px}"]}),n})();function Te(n,i){1&n&&e._UZ(0,"span",6)}function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"app-flight-details",2),e.TgZ(2,"div",3),e.YNc(3,Te,1,0,"span",4),e.TgZ(4,"app-flight-select",5),e.NdJ("confirmedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmedChange.emit(o))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("odd",t.odd)("flight",t.flight),e.xp6(2),e.Q6J("ngIf",!t.confirmed),e.xp6(1),e.Q6J("isFirstFlight",t.isFirstFlight)("flight",t.flight)("confirmed",t.confirmed)}}let Fe=(()=>{class n{constructor(){this.confirmedChange=new e.vpe,this.isFirstFlight=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flight"]],inputs:{flight:"flight",odd:"odd",confirmed:"confirmed",isFirstFlight:"isFirstFlight"},outputs:{confirmedChange:"confirmedChange"},decls:1,vars:1,consts:[["class","flight bg-white md:h-[130px] flex flex-col md:flex-row md:items-center md:justify-between rounded-lg px-4 sm:px-10",4,"ngIf"],[1,"flight","bg-white","md:h-[130px]","flex","flex-col","md:flex-row","md:items-center","md:justify-between","rounded-lg","px-4","sm:px-10"],[3,"odd","flight"],[1,"select-container","flex","flex-col","md:flex-row","items-center","md:h-full"],["class","separator border-l-slate-200 border-t-2 md:border-t-0 md:border-l-2 border-dashed w-full md:w-0 md:h-full",4,"ngIf"],[3,"isFirstFlight","flight","confirmed","confirmedChange"],[1,"separator","border-l-slate-200","border-t-2","md:border-t-0","md:border-l-2","border-dashed","w-full","md:w-0","md:h-full"]],template:function(t,s){1&t&&e.YNc(0,Ae,5,6,"div",0),2&t&&e.Q6J("ngIf",s.flight)},dependencies:[c.O5,_e,ve]}),n})();const Pe=function(n){return["icon",n]};let Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights-calendar-destination"]],inputs:{flight:"flight",odd:"odd"},decls:9,vars:5,consts:[[1,"destination","flex","justify-center","md:justify-start","text-[#11397e]","gap-3","px-2"],["src","/assets/calendar-destination_icon.svg","alt","","srcset","",3,"ngClass"],[1,"heading"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2)(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6," to "),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(3,Pe,s.odd?"rotate-180":"")),e.xp6(3),e.Oqu(s.flight.form.city),e.xp6(4),e.Oqu(s.flight.to.city))},dependencies:[c.mk],styles:[".heading[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:24px}"]}),n})();function be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-flights-calendar",3),e.NdJ("selectedFlightChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedFlight=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("isFirstFlight",t.first)("flights",t.flights)("selectedFlight",t.selectedFlight)("selectedFlightNumber",null==t.selectedFlight?null:t.selectedFlight.flightNumber)}}m().extend(re());let Se=(()=>{class n{constructor(t){this.bookingService=t,this.flights=[],this.confirmed=!1,this.confirmedChange=new e.vpe}ngOnInit(){const{otherFlights:t,...s}=this.flight;this.flights=[...Object.values(t||{}),s].sort((o,r)=>m()(o.takeoffDate).diff(r.takeoffDate,"milliseconds")),this.setDefaultSelectedFlight()}setDefaultSelectedFlight(){const t=this.flights.find(({takeoffDate:s})=>this.bookingService.isRelevantFlight(s,this.first));this.first&&t&&(this.bookingService.minutesOffset=t.timeMins),this.selectedFlight=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights"]],inputs:{flight:"flight",showSearchForm:"showSearchForm",first:"first",odd:"odd",confirmed:"confirmed"},outputs:{confirmedChange:"confirmedChange"},decls:3,vars:7,consts:[[3,"flight","odd"],["class","justify-between flex items-end relative",3,"isFirstFlight","flights","selectedFlight","selectedFlightNumber","selectedFlightChange",4,"ngIf"],[3,"odd","isFirstFlight","flight","confirmed","confirmedChange"],[1,"justify-between","flex","items-end","relative",3,"isFirstFlight","flights","selectedFlight","selectedFlightNumber","selectedFlightChange"]],template:function(t,s){1&t&&(e._UZ(0,"app-flights-calendar-destination",0),e.YNc(1,be,1,4,"app-flights-calendar",1),e.TgZ(2,"app-flight",2),e.NdJ("confirmedChange",function(r){return s.confirmedChange.emit(r)}),e.qZA()),2&t&&(e.Q6J("flight",s.flight)("odd",s.odd),e.xp6(1),e.Q6J("ngIf",!s.confirmed),e.xp6(1),e.Q6J("odd",s.odd)("isFirstFlight",s.first)("flight",s.selectedFlight)("confirmed",s.confirmed))},dependencies:[c.O5,he,Fe,Oe],styles:["[_nghost-%COMP%]{margin-bottom:24px;display:flex;flex-direction:column;gap:8px;position:relative}"]}),n})();var L=a(135),Ne=a(3652),Me=a(5397);let R=(()=>{class n{constructor(t,s,o,r){this.controlService=t,this.router=s,this.authService=o,this.snackBar=r,this.canContinue=!1,this.loggedIn=!1,this.destroy$=new u.x,this.authService.loggedIn$.pipe((0,h.R)(this.destroy$)).subscribe(p=>{this.loggedIn=p})}back(){const{selectedIndex:t}=this.controlService.stepper;this.controlService.stepper.previous(),0===t&&this.router.navigate(["/main"]).catch(console.error)}forward(){this.controlService.stepper.selected&&(this.controlService.stepper.selected.completed=!0),this.loggedIn?this.controlService.stepper.next():this.snackBar.open("You have not logged in","Close",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.w),e.Y36(C.F0),e.Y36(Ne.e),e.Y36(Me.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-progress-controls"]],inputs:{canContinue:"canContinue"},decls:7,vars:7,consts:[[1,"controls","mt-5","flex","gap-10"],["mat-button","","color","primary","type","button",1,"btn",3,"click"],["mat-flat-button","","color","primary","type","button",1,"btn",3,"disabled","click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return s.back()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return s.forward()}),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,3,"BOOKING.BTN_BACK")," "),e.xp6(2),e.Q6J("disabled",!s.canContinue),e.xp6(1),e.hij(" ",e.lcZ(6,5,"BOOKING.BTN_CONTINUE")," "))},dependencies:[Z.lW,g.X$],styles:["[_nghost-%COMP%]{align-self:center}@media (min-width: 768px){[_nghost-%COMP%]{align-self:flex-end}}.btn[_ngcontent-%COMP%]{height:60px;width:126px}"]}),n})();function Ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-flights-form",5),e.NdJ("hideForm",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showSearchForm=!1)}),e.qZA()}}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-flights",9),e.NdJ("confirmedChange",function(o){const p=e.CHM(t).index,f=e.oxw(3);return e.KtG(f.onFlightConfirmed(p,o))}),e.qZA()}if(2&n){const t=i.$implicit,s=i.index,o=i.odd,r=i.first,p=e.oxw(3);e.Q6J("first",r)("odd",o)("showSearchForm",p.showSearchForm)("flight",t)("confirmed",!!p.flightsConfirmed[s])}}function qe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,we,1,5,"app-flights",8),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Ue(n,i){if(1&n&&(e.ynx(0),e.YNc(1,qe,2,1,"ng-container",6),e.ALo(2,"async"),e._UZ(3,"app-progress-controls",7),e.BQk()),2&n){const t=e.oxw(),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!0!==e.lcZ(2,3,t.isLoading$))("ngIfElse",s),e.xp6(2),e.Q6J("canContinue",t.canContinue)}}function De(n,i){1&n&&e._UZ(0,"mat-spinner",10)}let Le=(()=>{class n{constructor(t,s,o){this.searchService=t,this.summaryService=s,this.datePipe=o,this.flights=this.searchService.flights$.asObservable(),this.showSearchForm=!1,this.flightsConfirmed=[],this.subs=new G.w0,this.canContinue=!1;const r=t.flights$.subscribe(p=>{null!=p&&(this.flightsConfirmed=Array(p.length).fill(void 0))});this.subs.add(r),this.isLoading$=t.isLoading$}ngOnDestroy(){this.subs.unsubscribe()}onFlightConfirmed(t,s){this.flightsConfirmed[t]=s;const[o,r]=this.flightsConfirmed,p=this.transformToSummaryTrip(o),f=this.transformToSummaryTrip(r);p&&this.summaryService.setSummary({from:p,to:f,passengers:[]}),this.canContinue=this.checkAllFlights()}checkAllFlights(){return this.flightsConfirmed.every(Boolean)}transformToSummaryTrip(t){if(t){const{flightNumber:s,takeoffDate:o,landingDate:r,form:p,to:f,price:x}=t,{city:M}=p,{city:I}=f;return{number:s,dates:this.datePipe.transform(o,"d MMM y")||"",times:`${this.datePipe.transform(o,"h:mm")||""}-${this.datePipe.transform(r,"h:mm")||""}`,from:M,to:I,price:x}}return null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.o),e.Y36(T.J),e.Y36(c.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flights-page"]],decls:7,vars:5,consts:[[3,"editable","toggleSearchForm"],[1,"booking-container","flex","flex-col","pt-10","mb-5","mx-auto","relative"],[3,"hideForm",4,"ngIf"],[4,"ngIf"],["spinner",""],[3,"hideForm"],[4,"ngIf","ngIfElse"],[3,"canContinue"],[3,"first","odd","showSearchForm","flight","confirmed","confirmedChange",4,"ngFor","ngForOf"],[3,"first","odd","showSearchForm","flight","confirmed","confirmedChange"],[1,"spinner","mx-auto",2,"width","48px","height","48px"]],template:function(t,s){1&t&&(e.TgZ(0,"app-second-menu",0),e.NdJ("toggleSearchForm",function(){return s.showSearchForm=!s.showSearchForm}),e.qZA(),e.TgZ(1,"div",1),e.YNc(2,Ie,1,0,"app-flights-form",2),e.YNc(3,Ue,4,5,"ng-container",3),e.ALo(4,"async"),e.qZA(),e.YNc(5,De,1,0,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("editable",!0),e.xp6(2),e.Q6J("ngIf",s.showSearchForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,s.flights)))},dependencies:[c.sg,c.O5,z.Ou,P,se,Se,R,c.Ov],styles:[".booking-container[_ngcontent-%COMP%]{max-width:1128px;width:100%}"]}),n})();var y=a(9017),Re=a(8650),E=a(1928),_=a(7770),d=a(7260),b=a(6635),k=a(599),Ee=a(2837),ke=a(9261);function Ye(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function Je(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.INVALID_CHARACTER")))}function $e(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function Qe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.INVALID_CHARACTER")))}function Be(n,i){1&n&&e._UZ(0,"mat-icon",21)}function je(n,i){1&n&&e._UZ(0,"mat-icon",21)}function Ge(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function ze(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.DATE_MIN")))}function Xe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.DATE_MAX")))}function He(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.substract())}),e._uU(2," \u2212 "),e.qZA(),e._UZ(3,"input",38),e.TgZ(4,"div",39),e._uU(5),e.qZA(),e.TgZ(6,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.add())}),e._uU(7,"+"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",0===t.luggage.value),e.xp6(4),e.Oqu(t.luggage.value)}}function Ve(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"mat-slide-toggle",24,25)(4,"div",26)(5,"mat-icon",27),e._uU(6,"wheelchair_pickup"),e.qZA(),e.TgZ(7,"span",28),e._uU(8),e.ALo(9,"translate"),e.qZA()()()(),e.TgZ(10,"div",29),e.ynx(11,30),e.TgZ(12,"mat-slide-toggle",31,32),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onToggle())}),e.TgZ(14,"div",33)(15,"mat-icon",27),e._uU(16,"luggage"),e.qZA(),e.TgZ(17,"span",34),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.BQk(),e.ynx(20),e.YNc(21,He,8,2,"div",35),e.BQk(),e.qZA()()}if(2&n){const t=e.MAs(13),s=e.oxw();e.xp6(8),e.Oqu(e.lcZ(9,4,"PROCESS.ASSISTANCE")),e.xp6(3),e.Q6J("formGroup",s.luggageGroup),e.xp6(7),e.Oqu(e.lcZ(19,6,"PROCESS.LUGGAGE")),e.xp6(3),e.Q6J("ngIf",t.checked)}}const Y=function(n){return["icon",n]};let Ke=(()=>{class n{constructor(t,s,o,r,p){this.parentForm=t,this.cd=s,this.fb=o,this.progress=r,this.translateService=p,this.index=1,this.title="Adult",this.passengerTitle="",this.today=new Date,this.destroy$=new u.x,this.locale=this.translateService.currentLang,this.passengers=this.parentForm.control.get("passengers"),this.luggageGroup=o.group({isIncluded:o.control(!1)})}ngOnInit(){this.passenger=this.passengers.controls[this.index-1],this.firstName=this.passenger.get("firstName"),this.lastName=this.passenger.get("lastName"),this.gender=this.passenger.get("gender"),this.birthDate=this.passenger.get("birthDate"),this.isIncluded=this.luggageGroup.get("isIncluded"),this.assistance=this.passenger.get("assistance"),this.luggage=this.passenger.get("luggage"),this.luggage.value&&this.isIncluded.setValue(!0),this.luggage.valueChanges.subscribe(t=>{0===t&&this.isIncluded.setValue(!1)}),this.transformTitleForTranslate(),this.translateService.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(t=>{this.locale=t.lang}),this.getDateValidators()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDateValidators(){const{type:t}=this.passenger.value;switch(t){case"Infant":this.maxDate=this.today,this.minDate=this.getYearAgo(this.today,2);break;case"Child":this.maxDate=this.getYearAgo(this.today,2),this.minDate=this.getYearAgo(this.today,14);break;default:this.maxDate=this.getYearAgo(this.today,14),this.minDate=new Date(0)}}substract(){const t=this.luggage.value;t>0&&this.luggage.setValue(t-1)}add(){this.luggage.setValue(this.luggage.value+1)}onToggle(){this.luggage.setValue(this.isIncluded.value?1:0)}transformTitleForTranslate(){this.passengerTitle=`PASSENGER.${this.title}`}getYearAgo(t,s){const o=t.getFullYear(),r=t.getMonth(),p=t.getDate();return new Date(o-s,r,p)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.sg),e.Y36(e.sBO),e.Y36(l.qu),e.Y36(y.h),e.Y36(g.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-process-passenger-card"]],inputs:{index:"index",title:"title"},decls:54,vars:52,consts:[[1,"boking-content","passenger-card","w-full","sm:px-7","py-4","gap-1","sm:gap-6",3,"formGroup"],[1,"passenger-card-content","flex","flex-wrap","gap-1","sm:gap-5","lg:flex-nowrap"],["appearance","fill",1,"form-field"],["formControlName","firstName","matInput","","type","text"],["firstNameInput","matInput"],["matSuffix","",3,"ngClass","matTooltip","color"],[4,"ngIf"],["formControlName","lastName","matInput","","type","text"],["lastNameInput","matInput"],["matSuffix","","matTooltipPosition","right",3,"ngClass","matTooltip","color"],["formControlName","gender","aria-label","Font Style",1,"gender-buttons-group","w-full","sm:w-[216px]","mb-5"],["value","male",1,"gender-toggle-button"],["genderButtonMale",""],["class","gender-button-checked-icon","color","primary","fontIcon","check",4,"ngIf"],[3,"ngClass"],["value","female","color","primary",1,"gender-toggle-button"],["genderButtonFemale",""],["matInput","","formControlName","birthDate","placeholder","MM/DD/YYYY",3,"matDatepicker","min","max"],["matIconSuffix","",3,"for"],["picker",""],["class","passenger-additions relative flex flex-wrap w-full gap-2 pt-5",4,"ngIf"],["color","primary","fontIcon","check",1,"gender-button-checked-icon"],[1,"passenger-additions","relative","flex","flex-wrap","w-full","gap-2","pt-5"],[1,"special-assistants","relative","w-full","sm:w-[320px]"],["color","primary","formControlName","assistance"],["switchButton",""],[1,"flex","sm:pl-2","lg:pl-5","justify-start","items-center","min-w-[220px]"],[1,"min-w-[32px]"],[1,"sm:pl-2","lg:min-w-[180px]"],[1,"luggage","flex","flex-nowrap","relative"],[3,"formGroup"],["color","primary","formControlName","isIncluded",1,"w-max",3,"change"],["luggageButton",""],[1,"flex","sm:pl-2","lg:pl-5","justify-start","items-center","w-[120px]","sm:w-[150px]"],[1,"sm:pl-2"],["class","luggage-input flex flex-nowrap justify-between items-center w-[60px]",4,"ngIf"],[1,"luggage-input","flex","flex-nowrap","justify-between","items-center","w-[60px]"],[1,"luggage-input-button","text-lg",3,"disabled","click"],["formControlName","luggage",1,"w-0"],[1,"input","w-6","font-semibold","text-lg","text-center"],[1,"luggage-input-button","text-lg",3,"click"]],template:function(t,s){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"div",1)(7,"mat-form-field",2)(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",3,4),e.TgZ(13,"mat-icon",5),e.ALo(14,"translate"),e._uU(15),e.qZA(),e.YNc(16,Ye,3,3,"mat-error",6),e.YNc(17,Je,3,3,"mat-error",6),e.qZA(),e.TgZ(18,"mat-form-field",2)(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",7,8),e.TgZ(24,"mat-icon",9),e.ALo(25,"translate"),e._uU(26),e.qZA(),e.YNc(27,$e,3,3,"mat-error",6),e.YNc(28,Qe,3,3,"mat-error",6),e.qZA(),e.TgZ(29,"mat-button-toggle-group",10)(30,"mat-button-toggle",11,12),e.YNc(32,Be,1,0,"mat-icon",13),e.TgZ(33,"span",14),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"mat-button-toggle",15,16),e.YNc(38,je,1,0,"mat-icon",13),e.TgZ(39,"span",14),e._uU(40),e.ALo(41,"translate"),e.qZA()()(),e.TgZ(42,"mat-form-field",2)(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",17)(47,"mat-datepicker-toggle",18)(48,"mat-datepicker",null,19),e.YNc(50,Ge,3,3,"mat-error",6),e.YNc(51,ze,3,3,"mat-error",6),e.YNc(52,Xe,3,3,"mat-error",6),e.qZA()(),e.YNc(53,Ve,22,8,"div",20),e.qZA()()),2&t){const o=e.MAs(12),r=e.MAs(23),p=e.MAs(31),f=e.MAs(37),x=e.MAs(49);e.Q6J("formGroup",s.passenger),e.xp6(3),e.AsE("",s.index,". ",e.lcZ(4,32,s.passengerTitle)," "),e.xp6(6),e.Oqu(e.lcZ(10,34,"LOGIN_FORM.FIRST_NAME")),e.xp6(4),e.Q6J("ngClass",e.VKq(48,Y,o.focused?"":"text-[#74767A]"))("matTooltip",e.lcZ(14,36,"PROCESS.TOOLTIP"))("color",s.firstName.touched&&s.firstName.errors?"warn":s.firstName.valid&&"accent"),e.xp6(2),e.Oqu(s.firstName.touched&&s.firstName.errors?"info":"info_outline"),e.xp6(1),e.Q6J("ngIf",s.firstName.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.firstName.hasError("pattern")),e.xp6(3),e.Oqu(e.lcZ(21,38,"LOGIN_FORM.LAST_NAME")),e.xp6(4),e.Q6J("ngClass",e.VKq(50,Y,r.focused?"":"text-[#74767A]"))("matTooltip",e.lcZ(25,40,"PROCESS.TOOLTIP"))("color",s.lastName.touched&&s.lastName.errors?"warn":s.lastName.valid&&"accent"),e.xp6(2),e.Oqu(s.lastName.touched&&s.lastName.errors?"info":"info_outline"),e.xp6(1),e.Q6J("ngIf",s.lastName.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.lastName.hasError("pattern")),e.xp6(4),e.Q6J("ngIf",p.checked),e.xp6(1),e.Q6J("ngClass",p.checked?"gender-button-checked":""),e.xp6(1),e.hij(" ",e.lcZ(35,42,"LOGIN_FORM.MALE")," "),e.xp6(4),e.Q6J("ngIf",f.checked),e.xp6(1),e.Q6J("ngClass",f.checked?"gender-button-checked":""),e.xp6(1),e.hij(" ",e.lcZ(41,44,"LOGIN_FORM.FEMALE")," "),e.xp6(4),e.Oqu(e.lcZ(45,46,"LOGIN_FORM.DATE_BIRTH")),e.xp6(2),e.Q6J("matDatepicker",x)("min",s.minDate)("max",s.maxDate),e.xp6(1),e.Q6J("for",x),e.xp6(3),e.Q6J("ngIf",s.birthDate.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.birthDate.hasError("matDatepickerMin")),e.xp6(1),e.Q6J("ngIf",s.birthDate.hasError("matDatepickerMax")),e.xp6(1),e.Q6J("ngIf","Infant"!==s.title)}},dependencies:[c.mk,c.O5,E.Nt,_.KE,_.hX,_.TO,_.R9,d.a8,d.dn,d.dk,d.n5,q.Hw,b.Mq,b.hl,b.nW,k.A9,k.Yi,Ee.Rr,ke.gM,l.Fj,l.JJ,l.JL,l.sg,l.u,g.X$],styles:[".form-field[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.form-field[_ngcontent-%COMP%]{width:45%}}@media (min-width: 1024px){.form-field[_ngcontent-%COMP%]{width:255px}}.luggage-input-button[_ngcontent-%COMP%]{color:#74767a}.luggage-input-button[_ngcontent-%COMP%]:hover{color:#11397e}.luggage-input-button[_ngcontent-%COMP%]:disabled{color:#cecece}"]}),n})();function We(n,i){if(1&n&&e._UZ(0,"app-process-passenger-card",7),2&n){const t=i.$implicit;e.Q6J("index",i.index+1)("title",t)}}let et=(()=>{class n{constructor(t,s,o,r){this.search=t,this.fb=s,this.progress=o,this.translateService=r,this.filled=new e.vpe,this.valid=new e.vpe,this.passengersDescription=[],this.destroy$=new u.x,this.locale=this.translateService.currentLang,this.passengersForm=s.group({passengers:s.array([])})}ngOnInit(){this.passengersDescription=this.getPassengersArray(),this.passengers=this.passengersForm.controls.passengers,this.passengersDescription.forEach((t,s)=>{this.addPassenger(t,s)}),this.initPassengersForm(),this.passengers.valueChanges.pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.filled.emit(this.passengers.valid)}),this.translateService.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(t=>{this.locale=t.lang})}ngOnDestroy(){this.passengers.valid&&this.valid.emit(this.passengers.value),this.destroy$.next(),this.destroy$.complete()}initPassengersForm(){const t=this.progress.passengers$.value;t&&t.length===this.passengers.length&&this.passengers.setValue(t),this.filled.emit(this.passengers.valid)}getPassengersArray(){const{passengers:t}=this.search.requestData$.value,{adult:s,child:o,infant:r}=t;return[...new Array(s).fill("Adult"),...new Array(o).fill("Child"),...new Array(r).fill("Infant")]}addPassenger(t,s){const{fb:o}=this,r=o.group({id:o.control(s),type:o.control(t),firstName:o.control("",[l.kI.required,l.kI.pattern("[a-zA-Z]+")]),lastName:o.control("",[l.kI.required,l.kI.pattern("[a-zA-Z]+")]),gender:o.control(null,l.kI.required),birthDate:o.control(null,l.kI.required),assistance:o.control(!1),luggage:o.control(0)});this.passengers.push(r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.o),e.Y36(l.qu),e.Y36(y.h),e.Y36(g.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-process-passengers"]],outputs:{filled:"filled",valid:"valid"},decls:11,vars:8,consts:[[1,"booking-title","flex-column","gap-2","mx-4","xl:mx-0"],[1,"flex","gap-4"],["src","/assets/passengers_icon.svg","alt","passengers icon",1,"inline"],["color","primary",1,"mat-title"],[1,"mat-small","color-gray"],[1,"booking-content","passengers-cards","flex","flex-col","gap-5",3,"formGroup"],["formGroupName","passengers",3,"index","title",4,"ngFor","ngForOf"],["formGroupName","passengers",3,"index","title"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._UZ(2,"img",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"p",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"form",5),e.YNc(10,We,1,2,"app-process-passenger-card",6),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"MAIN_FORM.PASSENGER")),e.xp6(3),e.Oqu(e.lcZ(8,6,"PROCESS.PASSENGERS_HINT")),e.xp6(2),e.Q6J("formGroup",s.passengersForm),e.xp6(1),e.Q6J("ngForOf",s.passengersDescription))},dependencies:[c.sg,l._Y,l.JL,l.sg,l.x0,Ke,g.X$]}),n})();var tt=a(9903),nt=a(9513),st=a.n(nt),it=a(2373),ot=a(786);function rt(n,i){if(1&n&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function at(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function lt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ERRORS.INVALID_CHARACTER")," "))}function ct(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function pt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ERRORS.INVALID_CHARACTER")," "))}function gt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.EXCEED_15")))}function mt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.REQUIRED")))}function dt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ERRORS.CORRECT_EMAIL")))}function ht(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.xi3(2,1,"ERRORS.MUST_LEAST",3)))}function ft(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.xi3(2,1,"ERRORS.MUST_LEAST",16)))}let ut=(()=>{class n{constructor(t,s,o){this.fb=t,this.progress=s,this.translateService=o,this.filled=new e.vpe,this.valid=new e.vpe,this.countryNames=tt.getNames(),this.destroy$=new u.x,this.countryCodes=st().allCountries.map(({name:r,dialCode:p})=>`${r.split(" (")[0]} (+${p})`),this.locale=this.translateService.currentLang,this.contactDetailsForm=t.group({countryCode:t.control("",l.kI.required),phone:t.control("",[l.kI.required,l.kI.maxLength(15),l.kI.pattern("\\d+")]),email:t.control("",[l.kI.required,l.kI.email,l.kI.minLength(3),l.kI.maxLength(16)])})}ngOnInit(){this.emailField=this.contactDetailsForm.controls.email,this.countryCodeField=this.contactDetailsForm.get("countryCode"),this.phoneNumberField=this.contactDetailsForm.get("phone"),this.progress.contacts$.value&&this.contactDetailsForm.setValue(this.progress.contacts$.value),this.filled.emit(this.contactDetailsForm.valid),this.contactDetailsForm.valueChanges.pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.filled.emit(this.contactDetailsForm.valid)}),this.translateService.onLangChange.pipe((0,h.R)(this.destroy$)).subscribe(t=>{this.locale=t.lang})}ngOnDestroy(){this.contactDetailsForm.valid&&this.valid.emit(this.contactDetailsForm.value),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(y.h),e.Y36(g.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-process-contact-details"]],outputs:{filled:"filled",valid:"valid"},decls:38,vars:27,consts:[[1,"booking-title","flex-column","gap-2","mx-4","xl:mx-0"],[1,"mat-title","flex","gap-4"],["src","/assets/contact_details_icon.svg","alt","contacts icon",1,"inline"],[1,"mat-title"],[1,"mat-small"],[1,"booking-content","w-full","px-7","py-4","pb-0","gap-6",3,"formGroup"],[1,"card-content","flex","gap-2","lg:gap-10","flex-wrap"],[1,"phone-number","flex","flex-wrap","w-full","lg:w-fit","gap-0","sm:gap-2","lg:gap-5"],["appearance","fill",1,"form-field"],["formControlName","countryCode",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","phone","placeholder","e.g. 1111111111","matInput","","type","text"],["appearance","fill",1,"w-full","lg:w-[418px]"],["formControlName","email","matInput","","type","text","required","true"],[3,"value"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._UZ(2,"img",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"p",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-card",5)(10,"mat-card-content")(11,"div",6)(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"mat-select",9),e.YNc(18,rt,2,2,"mat-option",10),e.qZA(),e.YNc(19,at,3,3,"mat-error",11),e.YNc(20,lt,3,3,"mat-error",11),e.qZA(),e.TgZ(21,"mat-form-field",8)(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",12),e.YNc(26,ct,3,3,"mat-error",11),e.YNc(27,pt,3,3,"mat-error",11),e.YNc(28,gt,3,3,"mat-error",11),e.qZA()(),e.TgZ(29,"mat-form-field",13)(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",14),e.YNc(34,mt,3,3,"mat-error",11),e.YNc(35,dt,3,3,"mat-error",11),e.YNc(36,ht,3,4,"mat-error",11),e.YNc(37,ft,3,4,"mat-error",11),e.qZA()()()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,17,"PROCESS.CONTACT_DETAILS")),e.xp6(3),e.Oqu(e.lcZ(8,19,"PROCESS.CONTACT_DETAILS_HINT")),e.xp6(2),e.Q6J("formGroup",s.contactDetailsForm),e.xp6(6),e.Oqu(e.lcZ(16,21,"LOGIN_FORM.COUNTRY_CODE")),e.xp6(2),e.Q6J("placeholder",s.countryCodes[0]),e.xp6(1),e.Q6J("ngForOf",s.countryCodes),e.xp6(1),e.Q6J("ngIf",s.countryCodeField.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.countryCodeField.hasError("pattern")),e.xp6(3),e.Oqu(e.lcZ(24,23,"LOGIN_FORM.MOBILE_PHONE")),e.xp6(3),e.Q6J("ngIf",s.phoneNumberField.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.phoneNumberField.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",s.phoneNumberField.hasError("maxlength")),e.xp6(3),e.Oqu(e.lcZ(32,25,"LOGIN_FORM.EMAIL")),e.xp6(3),e.Q6J("ngIf",s.emailField.hasError("required")),e.xp6(1),e.Q6J("ngIf",s.emailField.hasError("email")),e.xp6(1),e.Q6J("ngIf",s.emailField.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",s.emailField.hasError("maxlength")))},dependencies:[c.sg,c.O5,E.Nt,_.KE,_.hX,_.TO,d.a8,d.dn,it.gD,ot.ey,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,g.X$],styles:[".form-field[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.form-field[_ngcontent-%COMP%]{width:45%}}@media (min-width: 1024px){.form-field[_ngcontent-%COMP%]{width:255px}}"]}),n})(),_t=(()=>{class n{constructor(t,s,o){this.progress=t,this.summary=s,this.tripList=o,this.isPassengersValid=!1,this.isContactsValid=!1,this.newPassengers=[],this.trip=s.getSummary()}ngOnDestroy(){this.newPassengers.length&&null!=this.newContacts&&(this.progress.updateData(this.newPassengers,this.newContacts),this.updateTrip())}checkPassengers(t){this.isPassengersValid=t}getPassengers(t){this.newPassengers=t}checkContacts(t){this.isContactsValid=t}getDetails(t){this.newContacts=t}updateTrip(){if(!this.trip)return;const t=this.tripList.getTripPrice(this.trip);this.trip.passengers=this.newPassengers.map(s=>n.transformPassengersFormValueToIPassenger(s,t)),this.summary.setSummary(this.trip)}static transformPrice(t,s){return{eur:s*t.eur,usd:s*t.usd,rub:s*t.rub,pln:s*t.pln}}static transformPassengersFormValueToIPassenger(t,s){const{firstName:o,lastName:r,luggage:p,birthDate:f,type:x}=t;return{nameFull:`${o} ${r}`,age:m()().diff(m()(f),"year"),cabinBag:1,fare:n.transformPrice(s,{Infant:.35,Child:.41,Adult:.645}[x]),luggage:p,seat:n.generateSeat(),tax:n.transformPrice(s,{Infant:.04,Child:.35,Adult:.355}[x])}}}return n.generateSeat=()=>`${Math.ceil(64*Math.random())}${"ABC"[Math.floor(3*Math.random())]}`,n.\u0275fac=function(t){return new(t||n)(e.Y36(y.h),e.Y36(T.J),e.Y36(Re.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-process-page"]],decls:5,vars:1,consts:[[1,"booking-container","flex","flex-col","pt-10","mb-5","relative","mx-auto"],[3,"filled","valid"],[3,"canContinue"]],template:function(t,s){1&t&&(e._UZ(0,"app-second-menu"),e.TgZ(1,"div",0)(2,"app-process-passengers",1),e.NdJ("filled",function(r){return s.checkPassengers(r)})("valid",function(r){return s.getPassengers(r)}),e.qZA(),e.TgZ(3,"app-process-contact-details",1),e.NdJ("filled",function(r){return s.checkContacts(r)})("valid",function(r){return s.getDetails(r)}),e.qZA(),e._UZ(4,"app-progress-controls",2),e.qZA()),2&t&&(e.xp6(4),e.Q6J("canContinue",s.isPassengersValid&&s.isContactsValid))},dependencies:[P,R,et,ut],styles:[".booking-container[_ngcontent-%COMP%]{max-width:1128px;width:100%}"]}),n})();var J=a(3597),xt=a(9572),Ct=a(3562),$=a(5904);function Zt(n,i){if(1&n&&(e.TgZ(0,"div",3)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.AsE(" ",t.passenger.luggage," ",e.lcZ(3,4,"SUMMARY.BAG_START")," "),e.xp6(3),e.Oqu(23*t.passenger.luggage),e.xp6(2),e.hij("",e.lcZ(8,6,"SUMMARY.BAG_END")," ")}}let yt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-information-about-passenger"]],inputs:{passenger:"passenger"},decls:16,vars:12,consts:[[1,"m-5","body_large"],[1,"mt-3","ml-7","mb-5","flex","gap-1","flex-col"],["class","body_large",4,"ngIf"],[1,"body_large"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div"),e._uU(2),e.ALo(3,"uppercase"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Zt,9,8,"div",2),e.TgZ(6,"div",3)(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",3)(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,6,s.passenger.nameFull)),e.xp6(3),e.Q6J("ngIf",s.passenger.luggage),e.xp6(3),e.AsE("",s.passenger.cabinBag," ",e.lcZ(9,8,"SUMMARY.CABIN_BAG"),""),e.xp6(4),e.hij("",e.lcZ(13,10,"SUMMARY.SEAT")," "),e.xp6(3),e.Oqu(s.passenger.seat))},dependencies:[c.O5,c.gd,g.X$],styles:[".body_large[_ngcontent-%COMP%]{font-family:Roboto;font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px;color:#000}.flex_between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),n})();function vt(n,i){1&n&&e._UZ(0,"mat-divider")}function Tt(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-information-about-passenger",5),e.YNc(2,vt,1,0,"mat-divider",6),e.BQk()),2&n){const t=i.$implicit,s=i.index,o=e.oxw();e.xp6(1),e.Q6J("passenger",t),e.xp6(1),e.Q6J("ngIf",s+1!==o.passengers.length)}}let At=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-summary-passenger-card"]],inputs:{trip:"trip",passengers:"passengers"},decls:15,vars:6,consts:[[1,"card-header"],[1,"flex","gap-4"],[1,"flight_number"],[1,"body_large","subtitle"],[4,"ngFor","ngForOf"],[3,"passenger"],[4,"ngIf"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title")(3,"div",1)(4,"span",2),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()(),e.TgZ(8,"mat-card-subtitle",3)(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"mat-card-content"),e.YNc(14,Tt,3,2,"ng-container",4),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(s.trip.number),e.xp6(2),e.AsE("",s.trip.from," - ",s.trip.to,""),e.xp6(3),e.Oqu(s.trip.dates),e.xp6(2),e.Oqu(s.trip.times),e.xp6(2),e.Q6J("ngForOf",s.passengers))},dependencies:[c.sg,c.O5,d.a8,d.dn,d.dk,d.$j,d.n5,$.d,yt],styles:[".card-header[_ngcontent-%COMP%]{border-top:3px solid #11397e;border-radius:8px 8px 0 0;background:#f1f3f6;padding:1.25em}.flight_number[_ngcontent-%COMP%]{font-family:Roboto;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.5px;color:#11397e}.body_large[_ngcontent-%COMP%]{font-family:Roboto;font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px;color:#000}.subtitle[_ngcontent-%COMP%]{display:flex;gap:1.25em}"]}),n})();var S=a(2662);const N=function(n,i,t){return[n,i,void 0,void 0,t]};let Ft=(()=>{class n{constructor(t,s,o){this.currencyService=t,this.priceService=s,this.translateService=o,this.locale=this.translateService.currentLang,this.passengersFare=this.priceService.getPrice(this.fare),this.passengersTax=this.priceService.getPrice(this.tax),this.currencyCode$=this.priceService.currencyCode$}ngOnInit(){this.priceService.currencyCode$.pipe().subscribe(t=>{this.passengersFare=this.priceService.getPrice(this.fare,t),this.passengersTax=this.priceService.getPrice(this.tax,t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.C),e.Y36(A.N),e.Y36(g.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-total-price-element"]],inputs:{caption:"caption",fare:"fare",tax:"tax"},decls:24,vars:46,consts:[[1,"px-10","pr-18","py-4","flex","gap-1","flex-col"],[1,"flex","justify-between"],[1,"caption"],[1,"flex","justify-between","pl-10"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.ALo(6,"currency"),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",3)(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"currency"),e.ALo(15,"async"),e.qZA()(),e.TgZ(16,"div",3)(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.ALo(22,"currency"),e.ALo(23,"async"),e.qZA()()()),2&t){let o,r,p;e.xp6(3),e.Oqu(s.caption),e.xp6(2),e.hij(" ",e.G7q(6,6,e.kEZ(34,N,s.passengersTax+s.passengersFare,null!==(o=e.lcZ(7,12,s.currencyCode$))&&void 0!==o?o:"EUR",s.locale))," "),e.xp6(5),e.hij("",e.lcZ(11,14,"SUMMARY.FARE")," "),e.xp6(3),e.hij(" ",e.G7q(14,16,e.kEZ(38,N,s.passengersFare,null!==(r=e.lcZ(15,22,s.currencyCode$))&&void 0!==r?r:"EUR",s.locale))," "),e.xp6(5),e.hij("",e.lcZ(19,24,"SUMMARY.TAX")," "),e.xp6(3),e.hij(" ",e.G7q(22,26,e.kEZ(42,N,s.passengersTax,null!==(p=e.lcZ(23,32,s.currencyCode$))&&void 0!==p?p:"EUR",s.locale))," ")}},dependencies:[c.Ov,c.H9,g.X$],styles:[".price_element[_ngcontent-%COMP%]{padding:40px 16px 72px}.caption[_ngcontent-%COMP%]{font-family:Roboto;font-weight:700;font-size:16px;line-height:24px;letter-spacing:.5px}"]}),n})();function Pt(n,i){if(1&n&&e._UZ(0,"app-total-price-element",6),2&n){const t=e.oxw(),s=t.$implicit,o=t.index,r=e.oxw();e.Q6J("fare",s.fare)("tax",s.tax)("caption",r.getCaption(s.count,o))}}function Ot(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Pt,1,3,"app-total-price-element",5),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.count>0)}}const bt=function(n,i,t){return[n,i,void 0,void 0,t]};let St=(()=>{class n{constructor(t,s,o,r){this.summaryService=t,this.currencyService=s,this.translate=o,this.priceService=r,this.totalPrice=0,this.locale=this.translate.currentLang,this.currencyCode$=r.currencyCode$}ngOnInit(){this.summaryByAge=this.summaryService.getSummaryByAge(this.trip.passengers)}getCaption(t,s){let o=["","",""];return this.translate.get("SUMMARY").subscribe(r=>{o=[r.ADULT,r.CHILD,r.INFANT]}),`${t} x ${o[s]}`}getTotalPrice(t=this.currencyCode$.getValue()){const s=this.summaryByAge?.reduce((o,r)=>this.priceService.sumPrice(o,r.fare,r.tax),this.priceService.initPrice)||this.priceService.initPrice;return this.priceService.getPrice(s,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.J),e.Y36(S.C),e.Y36(g.sK),e.Y36(A.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-total-price"]],inputs:{trip:"trip"},decls:11,vars:17,consts:[[1,"p-6","pb-0"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","py-5","px-10"],[1,"total"],[1,"total","price"],[3,"fare","tax","caption",4,"ngIf"],[3,"fare","tax","caption"]],template:function(t,s){if(1&t&&(e.TgZ(0,"mat-card",0),e.YNc(1,Ot,2,1,"ng-container",1),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-card-footer",2)(4,"span",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",4),e._uU(8),e.ALo(9,"currency"),e.ALo(10,"async"),e.qZA()()()),2&t){let o;e.xp6(1),e.Q6J("ngForOf",s.summaryByAge),e.xp6(4),e.Oqu(e.lcZ(6,3,"SUMMARY.TOTAL")),e.xp6(3),e.hij(" ",e.G7q(9,5,e.kEZ(13,bt,s.getTotalPrice(),null!==(o=e.lcZ(10,11,s.currencyCode$))&&void 0!==o?o:"EUR",s.locale))," ")}},dependencies:[c.sg,c.O5,d.a8,d.rt,$.d,Ft,c.Ov,c.H9,g.X$],styles:[".total[_ngcontent-%COMP%]{font-family:Roboto;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.5px}.price[_ngcontent-%COMP%]{color:#11397e}"]}),n})();function Nt(n,i){1&n&&(e.TgZ(0,"ng-component"),e._UZ(1,"app-second-menu"),e.qZA())}function Mt(n,i){if(1&n&&e._UZ(0,"app-summary-passenger-card",11),2&n){const t=e.oxw(2);e.Q6J("trip",t.trip.to)("passengers",t.trip.passengers)}}function It(n,i){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-summary-passenger-card",11),e.YNc(2,Mt,1,2,"app-summary-passenger-card",12),e.TgZ(3,"div",13),e._UZ(4,"app-total-price",14),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("trip",t.trip.from)("passengers",t.trip.passengers),e.xp6(1),e.Q6J("ngIf",null!==t.trip.to),e.xp6(2),e.Q6J("trip",t.trip)}}let wt=(()=>{class n{constructor(t,s,o,r,p,f){this.summaryService=t,this.store=s,this.stepperService=o,this.router=r,this.navigationService=p,this.passengers=f,this.trip=t.getSummary()}addtoCart(){this.trip&&this.store.dispatch((0,J.f7)({flight:this.trip}))}buyNow(){this.trip&&this.store.dispatch((0,J.f7)({flight:this.trip})),this.router.navigate(["cart"]).catch(console.error)}goBack(){const t=this.stepperService.bookingPageNames.some(o=>this.navigationService.prevUrl.includes(o)),s=this.navigationService.prevUrl.includes("profile");t?this.stepperService.stepper.previous():s&&this.router.navigate(["profile"]).catch(console.error)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.J),e.Y36(xt.yh),e.Y36(L.w),e.Y36(C.F0),e.Y36(Ct.f),e.Y36(y.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-summary-page"]],decls:18,vars:14,consts:[[4,"ngIf"],[1,"m-10","mx-10","md:mx-20","xl:mx-40"],[1,"flex","gap-4","m-2"],["alt","Summary","src","/assets/Summary.svg"],[1,"page_title"],["class","grid justify-end grid-cols-1 gap-10 lg:grid-cols-2",4,"ngIf"],[1,"flex","gap-5","flex-wrap","mt-4","md:mt-10","flex-row","justify-end"],["mat-button","","color","primary",1,"btn",3,"click"],["mat-stroked-button","","color","primary",1,"btn",3,"click"],["mat-raised-button","","color","primary",1,"btn",3,"click"],[1,"grid","justify-end","grid-cols-1","gap-10","lg:grid-cols-2"],[3,"trip","passengers"],[3,"trip","passengers",4,"ngIf"],[1,"lg:col-start-2"],[3,"trip"]],template:function(t,s){1&t&&(e.YNc(0,Nt,2,0,"ng-component",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,It,5,4,"div",5),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return s.goBack()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return s.addtoCart()}),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return s.buyNow()}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()),2&t&&(e.Q6J("ngIf",void 0===s.trip),e.xp6(5),e.hij(" ",e.lcZ(6,6,"SUMMARY.CAPTION")," "),e.xp6(2),e.Q6J("ngIf",void 0!==s.trip),e.xp6(3),e.Oqu(e.lcZ(11,8,"SUMMARY.BTN_BACK")),e.xp6(3),e.hij(" ",e.lcZ(14,10,"SUMMARY.BTN_ADD")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"SUMMARY.BTN_BUY")," "))},dependencies:[c.O5,C.fw,Z.lW,At,St,P,g.X$],styles:[".page_title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#11397e}.btn[_ngcontent-%COMP%]{padding:1.75em 2em}"]}),n})();var Q=a(1159);const qt=[{path:"",redirectTo:"flights",pathMatch:"full"},{path:"flights",component:Le},{path:"process",canActivate:[Q.p],component:_t},{path:"summary",canActivate:[Q.p],component:wt}];let Ut=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.Bz.forChild(qt),C.Bz]}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[S.C],imports:[c.ez,Ut,j.m,g.aw,l.UX]}),n})()}}]);